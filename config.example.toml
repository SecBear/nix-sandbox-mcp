# nix-sandbox-mcp configuration
#
# Environment definitions (build-time). Runtime settings (project mounting,
# session timeouts) are configured via env vars in your MCP client config.
# See README.md for details.

[defaults]
timeout_seconds = 30      # Maximum execution time per invocation
memory_mb = 512           # Memory limit for sandbox

# ─────────────────────────────────────────────────────────────────
# Environments
#
# Each environment defines what tools/packages are available.
# Use 'preset' for bundled environments or 'flake' for custom ones.
# ─────────────────────────────────────────────────────────────────

[environments.shell]
preset = "shell"
# bash, coreutils, grep, sed, awk, findutils, jq, tree, diffutils, file, bc

[environments.python]
preset = "python"
# python3 (+pyyaml), coreutils

[environments.node]
preset = "node"
# nodejs, coreutils

# ─────────────────────────────────────────────────────────────────
# Custom environments (examples — uncomment to use)
# ─────────────────────────────────────────────────────────────────

# Custom flake with explicit interpreter
# [environments.jq-shell]
# flake = "nixpkgs#jq"          # Any flake reference (nixpkgs, github:, local path)
# interpreter = "bash -s"       # Optional: default is "bash -s"

# Python environment from nixpkgs
# [environments.python-alt]
# flake = "nixpkgs#python3"
# interpreter = "python3 -c"

# Reference your own flake
# [environments.dev]
# flake = "github:myorg/dev-envs#default"

# ─────────────────────────────────────────────────────────────────
# Advanced: create a "project" env from your project's devShell
# Requires nix build (the project flake is evaluated at build time)
# ─────────────────────────────────────────────────────────────────
# [project]
# path = "."
# use_flake = true
